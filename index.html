<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LGED â€“ Last FantÃ´me</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #0b0f1a;
  color: #fff;
  margin: 0;
  padding: 0;
}
header {
  background: #11182a;
  padding: 15px;
  text-align: center;
}
h1 { color: #00e0ff; }
.container {
  padding: 15px;
  max-width: 900px;
  margin: auto;
}
.card {
  background: #161f36;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
}
select, input, button {
  width: 100%;
  padding: 8px;
  margin: 5px 0;
  border-radius: 5px;
  border: none;
}
button {
  background: #00e0ff;
  font-weight: bold;
}
.stars span {
  font-size: 22px;
  cursor: pointer;
}
.hidden { display: none; }
.result {
  background: #0e1528;
  padding: 10px;
  border-radius: 5px;
  margin-top: 5px;
}
</style>
</head>

<body>

<header>
  <h1>LGED â€“ Last FantÃ´me</h1>
  <p>Recherche de hÃ©ros â€“ Ã‰quipe LGED</p>
</header>

<div class="container">

<!-- ğŸ” RECHERCHE PUBLIQUE -->
<div class="card">
<h2>ğŸ” Recherche</h2>

<select id="searchHero"></select>

<label>Ã‰toiles minimum</label>
<select id="searchStars">
  <option value="0">0</option><option value="1">1</option>
  <option value="2">2</option><option value="3">3</option>
  <option value="4">4</option><option value="5">5</option>
</select>

<label>Niveau minimum</label>
<select id="searchLevel"></select>

<button onclick="search()">Rechercher</button>

<div id="results"></div>
</div>

<!-- ğŸ” ADMIN -->
<div class="card">
<h2>ğŸ” Administrateur</h2>

<input type="password" id="adminPass" placeholder="Mot de passe admin">
<button onclick="login()">Connexion</button>

<div id="adminPanel" class="hidden">

<h3>â• Ajouter un membre</h3>
<input id="pseudo" placeholder="Pseudo du joueur">

<select id="heroSelect"></select>

<label>Ã‰toiles</label>
<select id="heroStars">
<option>0</option><option>1</option><option>2</option>
<option>3</option><option>4</option><option>5</option>
</select>

<label>Niveau</label>
<select id="heroLevel"></select>

<button onclick="addHero()">Ajouter hÃ©ros</button>
<button onclick="saveMember()">ğŸ’¾ Sauvegarder membre</button>

<h3>ğŸ“‹ Membres enregistrÃ©s</h3>
<div id="membersList"></div>

</div>
</div>

</div>

<script>
const ADMIN_PASSWORD = "admin123";

const heroes = [
"Kimberly","Murphy","Williams","Stetmann","Marshall","Adam","Mason",
"Violet","Scarlett","Monica","Richard","Gump","Loki","DVA","Lucius",
"Carlie","Schyler","Morrison","Sarah","Maxwell","Cage","Ambolt",
"Tesla","Fiona","McGregor","Swift","Venom","Elsa","Kane",
"Farhad","Bob","Charlie","Lori","Mary"
];

let currentHeroes = [];

function init() {
  heroes.forEach(h => {
    searchHero.innerHTML += `<option>${h}</option>`;
    heroSelect.innerHTML += `<option>${h}</option>`;
  });
  for (let i=1;i<=300;i++) {
    searchLevel.innerHTML += `<option>${i}</option>`;
    heroLevel.innerHTML += `<option>${i}</option>`;
  }
  loadMembers();
}
init();

function login() {
  if (adminPass.value === ADMIN_PASSWORD) {
    adminPanel.classList.remove("hidden");
  } else {
    alert("Mot de passe incorrect");
  }
}

function addHero() {
  currentHeroes.push({
    hero: heroSelect.value,
    stars: parseInt(heroStars.value),
    level: parseInt(heroLevel.value)
  });
  alert("HÃ©ros ajoutÃ©");
}

function saveMember() {
  const pseudo = document.getElementById("pseudo").value;
  if (!pseudo || currentHeroes.length === 0) {
    alert("Pseudo ou hÃ©ros manquant");
    return;
  }
  let members = JSON.parse(localStorage.getItem("members") || "[]");
  members.push({ pseudo, heroes: currentHeroes });
  localStorage.setItem("members", JSON.stringify(members));
  currentHeroes = [];
  pseudo.value="";
  loadMembers();
  alert("Membre sauvegardÃ©");
}

function loadMembers() {
  membersList.innerHTML="";
  let members = JSON.parse(localStorage.getItem("members") || "[]");
  members.forEach(m => {
    membersList.innerHTML += `<div class="result">${m.pseudo}</div>`;
  });
}

function search() {
  const hero = searchHero.value;
  const stars = parseInt(searchStars.value);
  const level = parseInt(searchLevel.value);
  results.innerHTML="";
  let members = JSON.parse(localStorage.getItem("members") || "[]");

  members.forEach(m => {
    m.heroes.forEach(h => {
      if (h.hero===hero && h.stars>=stars && h.level>=level) {
        results.innerHTML += `<div class="result">${m.pseudo}</div>`;
      }
    });
  });

  if (results.innerHTML==="") {
    results.innerHTML="<p>Aucun rÃ©sultat</p>";
  }
}
</script>

</body>
</html>
